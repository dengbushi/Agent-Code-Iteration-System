# AIä»£ç†é©±åŠ¨çš„ä»£ç ç©ºé—´æ¢ç´¢æ¡†æ¶

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯Hung-yi Lee ML2025-hw2çš„å®ç°ï¼Œå¹¶åšäº†ä¸€äº›ä¿®æ”¹ï¼Œä½¿å…¶æ”¯æŒè°ƒç”¨apiæ¥å®Œæˆä»»åŠ¡ã€‚å—åˆ°AIDEè®ºæ–‡ ([arXiv:2502.13138](https://arxiv.org/abs/2502.13138)) çš„å¯å‘ï¼Œå®ç°äº†ä¸€ä¸ª**Agentä»£ç ç”Ÿæˆä¸è¿­ä»£ä¼˜åŒ–**ç³»ç»Ÿã€‚è¯¥æ¡†æ¶å°†ç¼–ç¨‹ä»»åŠ¡å»ºæ¨¡ä¸º**ä»£ç èµ·è‰å’Œè¿­ä»£ä¼˜åŒ–é—®é¢˜**ï¼Œé€šè¿‡**æ ‘æœç´¢ç®—æ³•**åœ¨æ½œåœ¨è§£å†³æ–¹æ¡ˆç©ºé—´ä¸­è¿›è¡Œæ™ºèƒ½æ¢ç´¢ï¼Œå¾—åˆ°æœ€ä¼˜çš„ä»£ç ã€‚



## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

### æ™ºèƒ½ä»£ç†ç³»ç»Ÿè®¾è®¡
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Agent Core    â”‚â”€â”€â”€â–¶â”‚  Journal State   â”‚â”€â”€â”€â–¶â”‚  Node Tree      â”‚
â”‚  (å†³ç­–å¼•æ“)      â”‚    â”‚   (çŠ¶æ€ç®¡ç†)      â”‚    â”‚  (è§£å†³æ–¹æ¡ˆæ ‘)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LLM Client     â”‚    â”‚  Interpreter     â”‚    â”‚  Evaluation     â”‚
â”‚  (ä»£ç ç”Ÿæˆ)      â”‚    â”‚  (ä»£ç æ‰§è¡Œ)       â”‚    â”‚  (æ€§èƒ½è¯„ä¼°)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸‰é˜¶æ®µè§£å†³æ–¹æ¡ˆæ¼”åŒ–

```
ä»»åŠ¡è¾“å…¥ â†’ Drafté˜¶æ®µ â†’ ä»£ç æ‰§è¡Œä¸è¯„ä¼°
            â†“
         ç”Ÿæˆåˆå§‹æ–¹æ¡ˆ
            â†“
    â”Œâ”€â”€â”€ æ‰§è¡ŒæˆåŠŸï¼Ÿ â”€â”€â”€â”
    â†“                â†“
   YES              NO
    â†“                â†“
Improveé˜¶æ®µ      Debugé˜¶æ®µ
    â†“                â†“
åŸºäºæœ€ä½³æ–¹æ¡ˆä¼˜åŒ–   åˆ†æé”™è¯¯å¹¶ä¿®å¤
    â†“                â†“
 æ€§èƒ½æå‡ç‰ˆæœ¬    â† ä¿®å¤ç‰ˆæœ¬
    â†“                â†“
   ä»£ç æ‰§è¡Œä¸è¯„ä¼° â†â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€ è¾¾åˆ°æœ€å¤§æ­¥æ•°ï¼Ÿ â”€â”
â†“                â†“
YES              NO
â†“                â†“
è¾“å‡ºæœ€ä½³æ–¹æ¡ˆ    â†â”€â”˜
```

#### é˜¶æ®µè¯¦è§£ï¼š
- **Draft**: ä»é›¶å¼€å§‹åˆ›å»ºè§£å†³æ–¹æ¡ˆï¼Œé‡ç‚¹æ˜¯å®Œæ•´æ€§å’Œå¯æ‰§è¡Œæ€§
- **Debug**: é”™è¯¯é©±åŠ¨çš„ä¿®å¤è¿‡ç¨‹ï¼Œé‡ç‚¹æ˜¯æ­£ç¡®æ€§å’Œç¨³å®šæ€§  
- **Improve**: æ€§èƒ½é©±åŠ¨çš„ä¼˜åŒ–è¿‡ç¨‹ï¼Œé‡ç‚¹æ˜¯æ•ˆæœå’Œæ•ˆç‡


### æŠ€æœ¯ç»„ä»¶è¯¦è§£

| ç»„ä»¶ | åŠŸèƒ½ | æ ¸å¿ƒç‰¹æ€§ |
|------|------|----------|
| **Agent** | æ™ºèƒ½å†³ç­–å¼•æ“ | æœç´¢ç­–ç•¥ã€æ–¹æ¡ˆç”Ÿæˆã€è¿­ä»£ä¼˜åŒ– |
| **Journal** | çŠ¶æ€ç®¡ç†ç³»ç»Ÿ | è§£å†³æ–¹æ¡ˆæ ‘ã€æ€§èƒ½è·Ÿè¸ªã€å†å²è®°å½• |
| **Node** | è§£å†³æ–¹æ¡ˆèŠ‚ç‚¹ | ä»£ç +è®¡åˆ’+ç»“æœã€çˆ¶å­å…³ç³»ã€é˜¶æ®µæ ‡è¯† |
| **Interpreter** | ä»£ç æ‰§è¡Œå¼•æ“ | å¤šè¿›ç¨‹éš”ç¦»ã€ä»£ç æ‰§è¡Œã€å¼‚å¸¸æ•è· |
| **LLMClient** | æ™ºèƒ½ä»£ç ç”Ÿæˆ | è‡ªç„¶è¯­è¨€ç†è§£ã€ä»£ç ç”Ÿæˆã€é”™è¯¯ä¿®å¤ |

## ğŸ¯ ç¤ºä¾‹åº”ç”¨åœºæ™¯

è¯¥é¡¹ç›®æ˜¯æœ¬æ¡†æ¶ç”¨äºæœºå™¨å­¦ä¹ ä»»åŠ¡çš„ç¤ºä¾‹ï¼Œåœ¨å®Œæˆä»»åŠ¡æè¿°åä½¿ç”¨æœ¬ç³»ç»Ÿç”Ÿæˆäº†ä¸€ä¸ªç›‘ç£å­¦ä¹ ä¸­çš„å›å½’ä»»åŠ¡çš„ä»£ç ã€‚ä½¿ç”¨çš„æ•°æ®é›†åŒ…å«ç¾å›½34ä¸ªå·ã€è¿ç»­3å¤©COVID-19è°ƒæŸ¥æ•°æ®ï¼ˆç—‡çŠ¶ã€è¡Œä¸ºã€ä¿¡å¿µç­‰77ä¸ªç‰¹å¾ï¼‰ï¼Œé¢„æµ‹ç¬¬3å¤©çš„æµ‹è¯•é˜³æ€§æ¦‚ç‡ã€‚AIä»£ç†éœ€è¦è‡ªåŠ¨è¿›è¡Œç‰¹å¾å·¥ç¨‹ã€æ¨¡å‹é€‰æ‹©å’Œè¶…å‚æ•°ä¼˜åŒ–ï¼Œå¤„ç†æ—¶é—´åºåˆ—å’Œåœ°ç†åˆ†å¸ƒçš„å¤æ‚æ€§ã€‚ï¼ˆæ¡†æ¶å¯é€‚ç”¨äºä»»ä½•éœ€è¦ä»£ç ç”Ÿæˆå’Œè¿­ä»£ä¼˜åŒ–çš„ç¼–ç¨‹ä»»åŠ¡ï¼‰

## ğŸ§  æ™ºèƒ½å†³ç­–æœºåˆ¶

### æœç´¢ç­–ç•¥ç®—æ³•
```python
def search_policy(self) -> Node | None:
    # 1. ç¡®ä¿æœ‰è¶³å¤Ÿçš„åˆå§‹è‰ç¨¿
    if len(self.journal.draft_nodes) < search_cfg.num_drafts:
        return None
    
    # 2. æ¦‚ç‡æ€§é€‰æ‹©è°ƒè¯•è·¯å¾„
    if random.random() < search_cfg.debug_prob:
        debuggable_nodes = [n for n in self.journal.buggy_nodes if n.is_leaf]
        if debuggable_nodes:
            return random.choice(debuggable_nodes)
    
    # 3. é€‰æ‹©æœ€ä½³èŠ‚ç‚¹è¿›è¡Œæ”¹è¿›
    good_nodes = self.journal.good_nodes
    if not good_nodes:
        return None
    return self.journal.get_best_node()
```


## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒé…ç½®
```bash
# 1. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 2. é…ç½®APIå¯†é’¥
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½®ä½ çš„ DEEPSEEK_API_KEY
```

### è¿è¡Œç³»ç»Ÿ
```bash
python main.py
```

### è‡ªå®šä¹‰ä»»åŠ¡
ä¿®æ”¹ `config.py` ä¸­çš„é…ç½®ï¼š
```python
config = {
    "task_goal": "ä½ çš„MLä»»åŠ¡æè¿°",
    "data_dir": Path("./your_dataset").resolve(),
    "agent": {
        "steps": 5,  # ä»£ç†æ‰§è¡Œæ­¥æ•°
        "search": {
            "debug_prob": 0.5,  # è°ƒè¯•æ¦‚ç‡
            "num_drafts": 1,    # åˆå§‹è‰ç¨¿æ•°é‡
        },
    },
}
```

## ğŸ’¡ æ ¸å¿ƒåˆ›æ–°ç‚¹

### ğŸ² **è‡ªé€‚åº”æœç´¢ç­–ç•¥**
- åŸºäºæ¦‚ç‡çš„æ™ºèƒ½å†³ç­–
- åŠ¨æ€å¹³è¡¡æ¢ç´¢ä¸åˆ©ç”¨
- è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜æ”¹è¿›è·¯å¾„

### ğŸŒ³ **è§£å†³æ–¹æ¡ˆæ¼”åŒ–æ ‘**
- ç»´æŠ¤å®Œæ•´çš„æ–¹æ¡ˆæ¼”åŒ–å†å²
- æ”¯æŒå›æº¯å’Œåˆ†æ”¯æ¢ç´¢
- æ™ºèƒ½é€‰æ‹©æœ€ä½³èŠ‚ç‚¹è¿›è¡Œæ‰©å±•

### ğŸ›¡ï¸ **å®‰å…¨ä»£ç æ‰§è¡Œ**
- å¤šè¿›ç¨‹éš”ç¦»æ‰§è¡Œç¯å¢ƒ
- å®Œæ•´çš„å¼‚å¸¸æ•è·å’Œå¤„ç†
- è¶…æ—¶æ§åˆ¶å’Œèµ„æºç®¡ç†

### ğŸ”„ **ç«¯åˆ°ç«¯è‡ªåŠ¨åŒ–**
- ä»ä»»åŠ¡ç†è§£åˆ°ä»£ç ç”Ÿæˆ
- è‡ªåŠ¨æ‰§è¡Œå’Œç»“æœè¯„ä¼°
- åŸºäºåé¦ˆçš„è¿­ä»£ä¼˜åŒ–

## ğŸ“ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ agent.py              # ğŸ¯ æ ¸å¿ƒAIä»£ç†é€»è¾‘
â”‚   â”œâ”€â”€ search_policy()   #    æ™ºèƒ½æœç´¢ç­–ç•¥
â”‚   â”œâ”€â”€ _draft()         #    ç”Ÿæˆåˆå§‹æ–¹æ¡ˆ
â”‚   â”œâ”€â”€ _debug()         #    é”™è¯¯ä¿®å¤
â”‚   â””â”€â”€ _improve()       #    æ–¹æ¡ˆä¼˜åŒ–
â”œâ”€â”€ models.py             # ğŸ“Š æ•°æ®æ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ Node             #    è§£å†³æ–¹æ¡ˆèŠ‚ç‚¹
â”‚   â””â”€â”€ Journal          #    çŠ¶æ€ç®¡ç†å™¨
â”œâ”€â”€ interpreter_module.py # âš¡ å®‰å…¨ä»£ç æ‰§è¡Œå¼•æ“
â”œâ”€â”€ llm_client.py         # ğŸ¤– LLMæ¥å£å°è£…
â”œâ”€â”€ text_utils.py         # ğŸ“ æ–‡æœ¬å¤„ç†å·¥å…·
â”œâ”€â”€ utils.py              # ğŸ› ï¸ é€šç”¨å·¥å…·å‡½æ•°
â”œâ”€â”€ config.py             # âš™ï¸ ç³»ç»Ÿé…ç½®
â”œâ”€â”€ main.py               # ğŸš€ ç¨‹åºå…¥å£
â””â”€â”€ dataset/              # ğŸ“Š æ•°æ®é›†ç›®å½•
```

## ğŸ”§ é«˜çº§é…ç½®

### ä»£ç†è¡Œä¸ºè°ƒä¼˜
```python
# åœ¨ config.py ä¸­è°ƒæ•´
"agent": {
    "steps": 10,           # å¢åŠ æ‰§è¡Œæ­¥æ•°è·å¾—æ›´å¥½ç»“æœ
    "search": {
        "debug_prob": 0.3, # é™ä½è°ƒè¯•æ¦‚ç‡ï¼Œæ›´å¤šæ”¹è¿›
        "num_drafts": 2,   # å¢åŠ åˆå§‹æ–¹æ¡ˆå¤šæ ·æ€§
    },
}
```

### è‡ªå®šä¹‰è¯„ä¼°æŒ‡æ ‡
ç³»ç»Ÿå½“å‰ä½¿ç”¨MSEä½œä¸ºè¯„ä¼°æŒ‡æ ‡ï¼Œå¯åœ¨ä»£ç ä¸­æ‰©å±•å…¶ä»–æŒ‡æ ‡ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

### æœºå™¨å­¦ä¹ å·¥ç¨‹è‡ªåŠ¨åŒ–
- âœ… **Kaggleç«èµ›**: è‡ªåŠ¨åŒ–ç‰¹å¾å·¥ç¨‹ã€æ¨¡å‹é€‰æ‹©å’Œè¶…å‚æ•°ä¼˜åŒ–
- âœ… **MLåŸå‹å¼€å‘**: å¿«é€ŸéªŒè¯ç®—æ³•æƒ³æ³•å’Œå®éªŒå‡è®¾
- âœ… **åŸºå‡†æµ‹è¯•**: åœ¨MLE-Benchã€METRç­‰è¯„ä¼°åŸºå‡†ä¸Šçš„è‡ªåŠ¨åŒ–å®éªŒ

### ä»£ç ç©ºé—´æ¢ç´¢ç ”ç©¶
- âœ… **ç®—æ³•ç ”ç©¶**: ç ”ç©¶ä¸åŒæœç´¢ç­–ç•¥åœ¨ä»£ç ä¼˜åŒ–ä¸­çš„æ•ˆæœ
- âœ… **æ•™è‚²å·¥å…·**: ç†è§£AIä»£ç†å¦‚ä½•è¿›è¡Œç³»ç»Ÿæ€§çš„è¯•é”™å’Œä¼˜åŒ–
- âœ… **æ¡†æ¶æ‰©å±•**: ä½œä¸ºAIDEç±»ç³»ç»Ÿçš„ç ”ç©¶å’Œå¼€å‘åŸºç¡€

### é€šç”¨ç¼–ç¨‹ä»»åŠ¡
- âœ… **è‡ªåŠ¨åŒ–è„šæœ¬ç”Ÿæˆ**: æ•°æ®å¤„ç†ã€æ–‡ä»¶æ“ä½œç­‰é‡å¤æ€§ç¼–ç¨‹ä»»åŠ¡
- âœ… **ä»£ç ä¼˜åŒ–**: æ€§èƒ½ä¼˜åŒ–ã€é‡æ„å»ºè®®ç­‰ä»£ç æ”¹è¿›ä»»åŠ¡



## ğŸš€ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„æœç´¢ç­–ç•¥
```python
def custom_search_policy(self) -> Node | None:
    # å®ç°ä½ çš„æœç´¢é€»è¾‘
    pass
```

### é›†æˆæ–°çš„LLM
```python
class CustomLLMClient:
    def generate_response(self, messages):
        # å®ç°ä½ çš„LLMæ¥å£
        pass
```

### æ”¯æŒæ–°çš„è¯„ä¼°æŒ‡æ ‡
```python
def custom_evaluation(predictions, targets):
    # å®ç°ä½ çš„è¯„ä¼°é€»è¾‘
    return metric_value
```

## ğŸ“ˆ æ€§èƒ½ç‰¹ç‚¹

- **æ™ºèƒ½åŒ–ç¨‹åº¦é«˜**: è‡ªä¸»å†³ç­–ï¼Œæ— éœ€äººå·¥å¹²é¢„
- **æ‰©å±•æ€§å¼º**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºå®šåˆ¶å’Œæ‰©å±•
- **å®‰å…¨å¯é **: éš”ç¦»æ‰§è¡Œï¼Œå®Œæ•´çš„é”™è¯¯å¤„ç†
- **é€šç”¨æ€§å¥½**: é€‚ç”¨äºå„ç§MLä»»åŠ¡åœºæ™¯

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼ç‰¹åˆ«æ¬¢è¿ï¼š
- æ–°çš„æœç´¢ç­–ç•¥å®ç°
- æ›´å¤šçš„è¯„ä¼°æŒ‡æ ‡æ”¯æŒ
- æ€§èƒ½ä¼˜åŒ–å»ºè®®
- æ–‡æ¡£æ”¹è¿›

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ“– å¼•ç”¨

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ çš„ç ”ç©¶æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘å¼•ç”¨åŸå§‹çš„AIDEè®ºæ–‡ï¼š

```bibtex
@article{jiang2025aide,
  title={AIDE: AI-Driven Exploration in the Space of Code},
  author={Jiang, Zhengyao and Schmidt, Dominik and Srikanth, Dhruv and Xu, Dixing and Kaplan, Ian and Jacenko, Deniss and Wu, Yuxiang},
  journal={arXiv preprint arXiv:2502.13138},
  year={2025}
}
```

---
